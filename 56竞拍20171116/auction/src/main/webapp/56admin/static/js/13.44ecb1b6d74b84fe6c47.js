webpackJsonp([13],{207:function(e,t,n){function o(e){n(349)}var s=n(43)(n(294),n(379),o,null,null);e.exports=s.exports},294:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"sortList",data:function(){return{query:{pageNo:1,pageSize:10},resource:{content:[],totalElements:0},delLoading:!1,showDeletePopover:[]}},computed:{},created:function(){this.findSorts()},methods:{findSorts:function(){var e=this;this.$api.findSorts(this.query,function(t){t.resource.content.map(function(e){e.enable=!e.disable}),e.resource=t.resource},function(t){e.$notify({type:"error",message:t.message})})},search:function(){this.findSorts()},pageChange:function(e){this.query.pageNo=e,this.findSorts()},editItem:function(e,t){this.$router.push({name:"sortEdit",query:{id:t.id}})},delItem:function(e,t){var n=this;this.delLoading=!0,this.$api.deleteSort(t.id,function(t){n.$set(n.showDeletePopover,e,!1),n.delLoading=!1,n.findSorts(),n.$message({type:"success",message:"删除成功"})},function(t){n.$set(n.showDeletePopover,e,!1),n.delLoading=!1,n.$message({type:"error",message:"删除失败,"+t.message})})},updateEnable:function(e,t){var n=this;this.$api.updateSortEnable(t.id,function(e){t.enable?n.$message({type:"success",message:"启用成功"}):n.$message({type:"success",message:"禁用成功"})},function(e){t.enable?n.$message({type:"error",message:"启用失败,"+e.message}):n.$message({type:"error",message:"禁用失败,"+e.message}),n.$set(t,"enable",!t.enable)})}}}},320:function(e,t,n){t=e.exports=n(181)(!1),t.push([e.i,"",""])},349:function(e,t,n){var o=n(320);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(182)("9705c95c",o,!0)},379:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"sortList"}},[n("h2",[e._v("分类列表")]),e._v(" "),n("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(t){e.$router.push({name:"sortEdit"})}}}),e._v(" "),n("el-table",{attrs:{data:e.resource.content,border:""}},[n("el-table-column",{attrs:{label:"序号","min-width":"65"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{domProps:{textContent:e._s(e.resource.number*e.resource.size+t.$index+1)}})]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"名称",prop:"name"}}),e._v(" "),n("el-table-column",{attrs:{label:"排序",prop:"sort"}}),e._v(" "),n("el-table-column",{attrs:{label:"是否显示",prop:"disable","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-switch",{attrs:{"on-text":"是","off-text":"否"},on:{change:function(n){e.updateEnable(n,t.row)}},model:{value:t.row.enable,callback:function(e){t.row.enable=e},expression:"scope.row.enable"}})]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{staticStyle:{"margin-left":"0"},attrs:{plain:!0,type:"primary",size:"mini"},on:{click:function(n){e.editItem(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),n("el-popover",{attrs:{placement:"top",width:"160"},model:{value:e.showDeletePopover[t.$index],callback:function(n){e.$set(e.showDeletePopover,t.$index,n)},expression:"showDeletePopover[scope.$index]"}},[n("p",[e._v("此操作将永久删除该数据, 是否继续?")]),e._v(" "),n("div",{staticStyle:{"text-align":"right",margin:"0"}},[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(n){e.$set(e.showDeletePopover,t.$index,!1)}}},[e._v("取消")]),e._v(" "),n("el-button",{attrs:{type:"primary",size:"mini",loading:e.delLoading},on:{click:function(n){e.delItem(t.$index,t.row)}}},[e._v("确定")])],1),e._v(" "),n("el-button",{staticStyle:{"margin-left":"0"},attrs:{slot:"reference",plain:!0,type:"danger",size:"mini"},slot:"reference"},[e._v("删除")])],1)]}}])})],1),e._v(" "),n("el-pagination",{attrs:{"current-page":e.query.pageNo,"page-size":e.query.pageSize,layout:"total, prev, pager, next, jumper",total:e.resource.totalElements},on:{"current-change":e.pageChange}})],1)},staticRenderFns:[]}}});