webpackJsonp([25],{125:function(t,i,e){e(313);var o=e(6)(e(230),e(361),null,null);t.exports=o.exports},230:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={name:"login",data:function(){return{loginForm:{identifier:"",password:"",validate:!0},fieldState:{identifier:"",password:""},toastClient:""}},created:function(){},activated:function(){},methods:{check:function(t){this.loginForm[t]?this.fieldState[t]="success":this.fieldState[t]="error"},validateField:function(t,i){var e=!0;switch(t){case"identifier":i.identifier.trim()||(this.toast("请输入账号"),e=!1);break;case"password":i.password.trim()||(this.toast("请输入密码"),e=!1);break;case"validate":i.validate||(this.toast("请勾选同意"),e=!1)}return this.check(t),e},sumbit:function(t){var i=this,e=!0;if("loginForm"===t){for(var o in this.loginForm)if(!(e=this.validateField(o,this.loginForm)))return;e&&this.$api.login(this.loginForm,function(t){window.localStorage.setItem("expirationTime",t.resource.expirationTime),window.localStorage.setItem("token",t.resource.token),window.localStorage.setItem("identifier",i.loginForm.identifier),i.toast("登录成功"),i.$router.replace({name:"userCenter"})},function(t){i.toast("登录失败,"+t.message)})}},toast:function(t){this.toastClient&&this.toastClient.close(),this.toastClient=this.$toast({message:t,position:"middle",duration:2e3})}}}},279:function(t,i,e){i=t.exports=e(111)(!1),i.push([t.i,"",""])},313:function(t,i,e){var o=e(279);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);e(112)("37a42ad4",o,!0)},361:function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"login"}},[e("div",{staticClass:"page-wrap"},[e("div",{staticClass:"page-title"},[e("a",{on:{click:function(i){t.$router.go(-1)}}},[e("i",{staticClass:"icon-back"})]),t._v(" "),e("span",[t._v("登录")])]),t._v(" "),e("div",{staticClass:"page-content"},[e("mt-field",{staticStyle:{"margin-top":"10px","border-top":"1px solid #ccc"},attrs:{label:"账户",placeholder:"请输入账户",attr:{maxLength:11},state:t.fieldState.identifier},nativeOn:{"!blur":function(i){t.check("identifier")}},model:{value:t.loginForm.identifier,callback:function(i){t.$set(t.loginForm,"identifier",i)},expression:"loginForm.identifier"}}),t._v(" "),e("mt-field",{staticStyle:{"border-bottom":"1px solid #ccc"},attrs:{label:"密码",placeholder:"请输入登录密码",attr:{maxLength:20},type:"password",state:t.fieldState.password},model:{value:t.loginForm.password,callback:function(i){t.$set(t.loginForm,"password",i)},expression:"loginForm.password"}}),t._v(" "),e("div",{staticStyle:{margin:"10px 0","text-align":"center","font-size":"12px"}},[e("div",{},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.validate,expression:"loginForm.validate"}],staticStyle:{margin:"1px 0",width:"15px",height:"15px"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.loginForm.validate)?t._i(t.loginForm.validate,null)>-1:t.loginForm.validate},on:{change:function(i){var e=t.loginForm.validate,o=i.target,a=!!o.checked;if(Array.isArray(e)){var r=t._i(e,null);o.checked?r<0&&(t.loginForm.validate=e.concat([null])):r>-1&&(t.loginForm.validate=e.slice(0,r).concat(e.slice(r+1)))}else t.$set(t.loginForm,"validate",a)}}}),t._v(" "),e("span",{staticStyle:{"vertical-align":"top",color:"#888"}},[t._v("注册或使用网站账号登录即视为您已同意")])]),t._v(" "),e("div",{staticStyle:{"font-size":"14px"}},[e("router-link",{attrs:{tag:"span",to:{path:"/agreement"}}},[t._v("《用户使用协议》")])],1)]),t._v(" "),e("div",{staticStyle:{padding:"0px 10px"}},[e("mt-button",{staticStyle:{width:"100%",margin:"20px 0 10px 0","background-color":"red",color:"#ffffff"},on:{click:function(i){t.sumbit("loginForm")}}},[t._v("登录")]),t._v(" "),e("a",{staticStyle:{color:"#aaa","font-size":"14px"},attrs:{href:"javascript: void(0);"},on:{click:function(i){t.$router.replace({name:"smsLogin"})}}},[t._v("→使用短信验证码登录")]),t._v(" "),e("mt-button",{staticStyle:{width:"100%","margin-top":"20px","border-bottom-color":"red",color:"red"},attrs:{plain:""},on:{click:function(i){t.$router.push({name:"register"})}}},[t._v("手机号快速注册")])],1)],1)])])},staticRenderFns:[]}}});