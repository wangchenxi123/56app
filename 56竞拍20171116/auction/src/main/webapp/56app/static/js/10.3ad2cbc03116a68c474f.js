webpackJsonp([10],{135:function(e,t,r){r(323);var o=r(6)(r(240),r(372),null,null);e.exports=o.exports},156:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"orderList",props:{content:{type:Array,default:function(){return[]}}},data:function(){return{photoHeight:100,temData:[{head_pic:"static/icon/icon-appear.svg",username:"圣诞快乐飞机",time:(new Date).getTime(),itemName:"山卡拉黄齑淡饭",context:"奥斯卡刘德华分开了安徽省翻盘啊维生素分类；卡顿就离开；发家收到了；",pictureList:["static/icon/icon-appear.svg","static/icon/icon-appear.svg","static/icon/icon-appear.svg"]}]}},created:function(){if(window.innerWidth){var e=window.innerWidth-20;this.photoHeight=parseInt(e/3.5)}},methods:{},mouted:function(){}}},159:function(e,t,r){t=e.exports=r(111)(!1),t.push([e.i,".orderList{padding:0 10px;background-color:#fff}a.orderItem{display:inline-block;padding-top:10px;padding-bottom:10px;width:100%;border-bottom:1px solid #f2f2f2;margin-bottom:-4px}a.orderItem,a.orderItem:before{background-color:#fff;transition:.4s;border-radius:0}a.orderItem:active{transition:.2s;background-color:#eee;border-radius:50%}a.orderItem .orderItem-left{width:15%;float:left}a.orderItem .orderItem-left img{width:50px;height:50px;border-radius:50%;float:right}a.orderItem .orderItem-right{width:85%;float:left}a.orderItem .orderItem-right .orderItem-content h3,a.orderItem .orderItem-right .orderItem-content h5,a.orderItem .orderItem-right .orderItem-content p{margin-left:10px;font-weight:400}a.orderItem .orderItem-right .orderItem-content h3{font-size:16px;color:#333}a.orderItem .orderItem-right .orderItem-content h3 span{color:#999;float:right;font-size:12px}a.orderItem .orderItem-right .orderItem-content h5{font-size:12px;color:#999;display:block;background-color:#f2f2f2;padding:5px 10px;margin-top:10px;margin-bottom:10px;white-space:nowrap;word-wrap:normal;text-overflow:ellipsis;overflow:hidden}a.orderItem .orderItem-right .orderItem-content p{font-size:14px;color:#333;overflow:hidden;max-height:40px}a.orderItem .orderItem-right ul.orderItem-photo{white-space:nowrap;margin:5px 0 0;padding:0;overflow-x:scroll}a.orderItem .orderItem-right ul.orderItem-photo li{list-style:none;width:30.33%;text-align:center;display:inline-block;margin-right:1%}a.orderItem .orderItem-right ul.orderItem-photo li img{width:100%;height:auto;margin:10px;box-shadow:1px 2px 15px #eee}",""])},160:function(e,t,r){var o=r(159);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r(112)("6ac3c2b4",o,!0)},163:function(e,t,r){r(160);var o=r(6)(r(156),r(164),null,null);e.exports=o.exports},164:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"orderList"},[e._l(e.content,function(t,o){return r("router-link",{key:t.id,staticClass:"orderItem",attrs:{to:{name:"showOrderDetail",query:{orderId:t.orderId}}}},[r("div",{staticClass:"orderItem-left"},[r("img",{attrs:{src:e.$api.file.see(t.head_pic),onerror:"this.src='static/icon/icon-appear.svg'",alt:"头像"}})]),e._v(" "),r("div",{staticClass:"orderItem-right"},[r("div",{staticClass:"orderItem-content"},[r("h3",[e._v(e._s(t.username)+"\n          "),r("span",[e._v(e._s(e.$filter.date(t.time)))])]),e._v(" "),r("h5",[e._v(e._s(t.itemName))]),e._v(" "),r("p",{staticClass:"orderItem-content-message"},[e._v(e._s(t.context))])]),e._v(" "),r("ul",{staticClass:"orderItem-photo"},e._l(t.pictureList,function(t){return r("li",{key:t},[r("img",{style:{height:e.photoHeight+"px"},attrs:{src:e.$api.file.see(t),alt:""}})])}))])])}),e._v(" "),e.content.length<=0?r("div",[r("div",{staticStyle:{"text-align":"center",color:"#999999","font-size":"14px",padding:"20px"}},[e._v("\n      暂无数据\n    ")])]):e._e()],2)},staticRenderFns:[]}},240:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(r(7),r(163)),i=r.n(o);t.default={name:"showOrder",data:function(){return{minHeight:"",query:{userId:"",pageNo:0,pageSize:10},resource:{content:[],last:!1},loading:!1,loadType:"REFRESH"}},components:{orderList:i.a},beforeRouteEnter:function(e,t,r){if("self"===e.query.type&&!e.query.userId)return void r("/login");r(function(r){e.query.userId&&(r.query.userId=e.query.userId),"showOrderDetail"!==t.name&&(r.query.pageNo=1,r.loadType="REFRESH",r.resource={content:[],last:!1},r.findShowOrders())})},activated:function(){this.loading=!1,this.minHeight=window.innerHeight-103},deactivated:function(){this.loading=!0},methods:{routerBack:function(){this.$router.go(-1)},findShowOrders:function(){var e=this;this.loading=!0,this.$api.findShowOrders(this.query,function(t){"LOAD_MORE"===e.loadType&&(t.resource.content=e.resource.content.concat(t.resource.content)),e.resource=t.resource,e.loading=!1,e.$refs.loadTop.onTopLoaded()},function(t){e.loading=!1,e.$refs.loadTop.onTopLoaded(),e.$toast({message:t.message,position:"middle",duration:3e3}),"401"===t.responseCode&&e.$router.replace({name:"login"})})},loadTop:function(){this.query.pageNo=1,this.loadType="REFRESH",this.resource.content=[],this.findShowOrders()},loadMore:function(){this.loading||this.resource.last||(this.query.pageNo++,this.loadType="LOAD_MORE",this.findShowOrders())}}}},289:function(e,t,r){t=e.exports=r(111)(!1),t.push([e.i,"",""])},323:function(e,t,r){var o=r(289);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r(112)("6d06a4b6",o,!0)},372:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"showOrder"},[r("div",{staticClass:"page-wrap"},[r("div",{staticClass:"page-title"},[r("a",{on:{click:e.routerBack}},[r("i",{staticClass:"icon-back"})]),e._v(" "),r("span",[e._v("晒单")])]),e._v(" "),r("mt-loadmore",{ref:"loadTop",staticStyle:{"padding-top":"48px"},attrs:{"top-method":e.loadTop}},[r("div",{staticClass:"page-content",staticStyle:{"padding-top":"0px"},style:{minHeight:e.minHeight+"px"}},[r("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":e.loading,"infinite-scroll-distance":10}},[r("order-list",{attrs:{content:e.resource.content}})],1)])])],1)])},staticRenderFns:[]}}});